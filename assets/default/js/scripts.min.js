"use strict";function insertAtCaret(t,e){var a=document.getElementById(t),n=a.scrollTop,r=0,o=a.selectionStart||"0"==a.selectionStart?"ff":document.selection?"ie":!1;if("ie"==o){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),r=c.text.length}else"ff"==o&&(r=a.selectionStart);var i=a.value.substring(0,r),l=a.value.substring(r,a.value.length);if(a.value=i+e+l,r+=e.length,"ie"==o){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),c.moveStart("character",r),c.moveEnd("character",0),c.select()}else"ff"==o&&(a.selectionStart=r,a.selectionEnd=r,a.focus());a.scrollTop=n}function inject_email_template(t,e){$.each(e,function(e,a){e=e.replace("email_template_",""),a&&t.indexOf(e)>-1&&$("#"+e).val(a)})}$(document).ready(function(){var t=$("html").outerHeight(),e=$(".navbar").outerHeight(),a=$("#headerbar").outerHeight(),n=t-e-a;$("#content").outerHeight()<n&&$("#content").outerHeight(n),$("html").click(function(){$(".dropdown-menu:visible").not(".datepicker").removeAttr("style")}),$('[data-toggle="tooltip"]').tooltip();var r;$(".text-tag").bind("click",function(){var t=this.getAttribute("data-tag");return insertAtCaret(r.id,t),!1}),$(".taggable").on("focus",function(){r=this})});